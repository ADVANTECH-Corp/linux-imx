// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/*
 * Copyright 2021 NXP
 */

/dts-v1/;

#include "imx8ulp.dtsi"
#include "imx8ulp-rpmsg.dtsi"
#include <dt-bindings/input/input.h>
#include <dt-bindings/display/dt-media-bus-format.h>

/ {
	model = "NXP i.MX8ULP EVK";
	compatible = "fsl,imx8ulp-evk", "fsl,imx8ulp";

	chosen {
		stdout-path = &lpuart5;
	};

	memory@40000000 {
		device_type = "memory";
		reg = <0x0 0x80000000 0 0x80000000>;
	};

	rpmsg_keys: rpmsg-keys {
		compatible = "fsl,rpmsg-keys";

		volume-up {
			label = "VolumeUp";
			linux,code = <KEY_VOLUMEUP>;
			rpmsg-key,wakeup;
		};

		volume-down {
			label = "VolumeDown";
			linux,code = <KEY_VOLUMEDOWN>;
			rpmsg-key,wakeup;
		};
	};

	reg_1p8v: regulator-1p8v {
		compatible = "regulator-fixed";
		regulator-name = "1P8V";
		regulator-min-microvolt = <1800000>;
		regulator-max-microvolt = <1800000>;
		regulator-always-on;
	};

	reserved-memory {
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;

		linux,cma {
			compatible = "shared-dma-pool";
			reusable;
			size = <0 0x28000000>;
			linux,cma-default;
		};

		rsc_table: rsc_table@1fff8000{
			reg = <0 0x1fff8000 0 0x1000>;
			no-map;
		};

		dsp_reserved: dsp_reserved@8e000000 {
			reg = <0 0x8e000000 0 0x1000000>;
			no-map;
		};
		dsp_reserved_heap: dsp_reserved_heap {
			reg = <0 0x8f000000 0 0xef0000>;
			no-map;
		};
		dsp_vdev0vring0: vdev0vring0@8fef0000 {
			reg = <0 0x8fef0000 0 0x8000>;
			no-map;
		};
		dsp_vdev0vring1: vdev0vring1@8fef8000 {
			reg = <0 0x8fef8000 0 0x8000>;
			no-map;
		};
		dsp_vdev0buffer: vdev0buffer@8ff00000 {
			compatible = "shared-dma-pool";
			reg = <0 0x8ff00000 0 0x100000>;
			no-map;
		};

		vdev0vring0: vdev0vring0@aff00000 {
			reg = <0 0xaff00000 0 0x8000>;
			no-map;
		};

		vdev0vring1: vdev0vring1@aff08000 {
			reg = <0 0xaff08000 0 0x8000>;
			no-map;
		};

		vdev1vring0: vdev1vring0@aff10000 {
			reg = <0 0xaff10000 0 0x8000>;
			no-map;
		};

		vdev1vring1: vdev1vring1@aff18000 {
			reg = <0 0xaff18000 0 0x8000>;
			no-map;
		};

		vdevbuffer: vdevbuffer@a8400000 {
			compatible = "shared-dma-pool";
			reg = <0 0xa8400000 0 0x100000>;
			no-map;
		};

		m33_reserved: m33_noncacheable_section@a8600000 {
			no-map;
			reg = <0 0xa8600000 0 0x1000000>;
		};
	};

	reg_5v: regulator-5v {
		compatible = "regulator-fixed";
		regulator-name = "5V";
		regulator-min-microvolt = <5000000>;
		regulator-max-microvolt = <5000000>;
		regulator-always-on;
	};

	usdhc2_pwrseq: usdhc2_pwrseq {
		compatible = "mmc-pwrseq-simple";
		reset-gpios = <&gpiof 26 GPIO_ACTIVE_LOW>;
	};
/*
	usdhc2_pwrseq: usdhc2_pwrseq {
                compatible = "mmc-pwrseq-simple";
		reset-gpios = <&gpioc 23 GPIO_ACTIVE_LOW>;  //SDIO card
		power-off-delay-us = <2000>;
		post-power-on-delay-ms = <40>;
        };
*/

/*
	lpuart4_mod_reset: lpuart4-mod-reset {
		compatible = "gpio-reset";
		reset-gpios = <&gpioc 22 GPIO_ACTIVE_LOW>;
		reset-delay-us = <2000>;
		reset-post-delay-ms = <40>;
		#reset-cells = <0>;
	};
*/

	bt_sco_codec: bt_sco_codec {
		#sound-dai-cells = <1>;
		compatible = "linux,bt-sco";
	};

/*
	reg_sd1_vmmc: sd1_regulator {
		compatible = "regulator-fixed";
		regulator-name = "WLAN_EN";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		gpio = <&gpioc 21 GPIO_ACTIVE_HIGH>;
		off-on-delay-us = <20000>;
		startup-delay-us = <100>;
		enable-active-high;
	};
*/

	sound {
		compatible = "fsl,sgtl5000",
				"fsl,imx-audio-sgtl5000";
		model = "sgtl5000";
		codec-master;
		ssi-controller = <&sai7>;
		audio-codec = <&acodec>;
		audio-routing =
			"MIC_IN", "Mic Jack",
			"Mic Jack", "Mic Bias",
			"Headphone Jack", "HP_OUT";
		no-audmux;
	};

	pwm_backlight: backlight {
		compatible = "pwm-backlight";
		pwms = <&tpm8 1 1000000 0>;
		brightness-levels = < 0  1  2  3  4  5  6  7  8  9
				     10 11 12 13 14 15 16 17 18 19
				     20 21 22 23 24 25 26 27 28 29
				     30 31 32 33 34 35 36 37 38 39
				     40 41 42 43 44 45 46 47 48 49
				     50 51 52 53 54 55 56 57 58 59
				     60 61 62 63 64 65 66 67 68 69
				     70 71 72 73 74 75 76 77 78 79
				     80 81 82 83 84 85 86 87 88 89
				     90 91 92 93 94 95 96 97 98 99
				    100>;
		default-brightness-level = <80>;
		default-enable = <0>;
		status = "okay";
	};

	lvds_pwr_vcc: lvds-pwr-vcc {
		compatible = "regulator-fixed";
		regulator-name = "lvds_pwr_vcc";
		pinctrl-names = "default";
		gpio = <&gpiod 20 GPIO_ACTIVE_HIGH>;
		enable-active-high;
	};
};

&per_bridge3 {
	tpm4: tpm@29330000 {
		compatible = "fsl,imx8ulp-pwm", "fsl,imx7ulp-pwm";
		reg = <0x29330000 0x1000>;
		clocks = <&pcc3 IMX8ULP_CLK_TPM4>;
		clock-names = "ipg";
		assigned-clocks = <&pcc3 IMX8ULP_CLK_TPM4>;
		assigned-clock-parents =  <&cgc1 IMX8ULP_CLK_SOSC_DIV2>;
		assigned-clock-rates = <24000000>;
		status = "disabled";
	};
};

&per_bridge4 {
	tpm7: pwm@29830000 {
		compatible = "fsl,imx8ulp-pwm", "fsl,imx7ulp-pwm";
		reg = <0x29830000 0x10000>;
                clocks = <&pcc4 IMX8ULP_CLK_TPM7>;
                clock-names = "ipg", "sel";
                assigned-clocks = <&pcc4 IMX8ULP_CLK_TPM7>, <&cgc1 IMX8ULP_CLK_TPM7_SEL>;
                assigned-clock-parents =  <&cgc1 IMX8ULP_CLK_SOSC_DIV2>, <&cgc1 IMX8ULP_CLK_SOSC>;
                assigned-clock-rates = <24000000>;
                status = "disabled";
	};
};

&per_bridge5 {
	tpm8: pwm@2da80000 {
		compatible = "fsl,imx8ulp-pwm", "fsl,imx7ulp-pwm";
		reg = <0x2da80000 0x10000>;
		clocks = <&pcc5 IMX8ULP_CLK_TPM8>;
		clock-names = "ipg";
		assigned-clocks = <&pcc5 IMX8ULP_CLK_TPM8>;
		assigned-clock-parents =  <&cgc1 IMX8ULP_CLK_SOSC_DIV2>;
		assigned-clock-rates = <24000000>;
		status = "disabled";
	};
};

&clock_ext_ts {
	/* External ts clock is 50MHZ from PHY on EVK board. */
	clock-frequency = <50000000>;
};

&dsp {
	assigned-clocks = <&cgc2 IMX8ULP_CLK_HIFI_SEL>;
	assigned-clock-parents = <&cgc2 IMX8ULP_CLK_PLL4>;
	memory-region = <&dsp_vdev0buffer>, <&dsp_vdev0vring0>,
			<&dsp_vdev0vring1>, <&dsp_reserved>;
	status = "okay";
};

&fec {
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_enet>;
	pinctrl-1 = <&pinctrl_enet>;
	assigned-clocks = <&cgc1 IMX8ULP_CLK_ENET_TS_SEL>;
	assigned-clock-parents = <&clock_ext_ts>;
	phy-mode = "rmii";
	phy-handle = <&ethphy>;
	status = "okay";

	mdio {
		#address-cells = <1>;
		#size-cells = <0>;

		ethphy: ethernet-phy@1 {
			reg = <1>;
			micrel,led-mode = <1>;
		};
	};
};

&i2c_rpbus_0 {
	#address-cells = <1>;
	#size-cells = <0>;
	status = "okay";

	ov5640_mipi: ov5640_mipi@3c {
		compatible = "ovti,ov5640";
		reg = <0x3c>;
		clocks = <&cgc2 IMX8ULP_CLK_DSI_PHY_REF>;
		clock-names = "xclk";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_cam>;
		powerdown-gpios = <&gpiod 22 GPIO_ACTIVE_LOW>;
		reset-gpios = <&gpiod 23 GPIO_ACTIVE_LOW>;
		status = "okay";
		port {
			ov5640_mipi_ep: endpoint {
				remote-endpoint = <&mipi_csi0_ep>;
				data-lanes = <1 2>;
				clocks-lanes = <0>;
			};
		};
	};
};

&i2c_rpbus_1 {
	#address-cells = <1>;
	#size-cells = <0>;
	status = "okay";
};

&imx8ulp_cm33 {
	ipc-only;
	rsc-da=<0x1fff8000>;
	mbox-names = "tx", "rx", "rxdb";
	mboxes = <&mu 0 1
			&mu 1 1
			&mu 3 1>;
	memory-region = <&vdevbuffer>, <&vdev0vring0>, <&vdev0vring1>,
			<&vdev1vring0>, <&vdev1vring1>, <&rsc_table>;
	status = "okay";
};

&lpuart4 {
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_lpuart4>;
	pinctrl-1 = <&pinctrl_lpuart4>;
	status = "okay";
};

/*
&lpuart4 {
        pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_lpuart4>, <&pinctrl_lpuart4_gpio>;
	fsl,uart-has-rtscts;
	resets = <&lpuart4_mod_reset>;
        status = "okay";
};
*/

&lpuart5 {
	/* console */
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_lpuart5>;
	pinctrl-1 = <&pinctrl_lpuart5>;
	status = "okay";
};

&lpuart6 {
	/* BT */
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_lpuart6>;
	pinctrl-1 = <&pinctrl_lpuart6>;
	status = "okay";
};

&lpuart7 {
	/* FT4232 PortD: need to connect J25/J26 2-3 */
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_lpuart7>;
	pinctrl-1 = <&pinctrl_lpuart7>;
	status = "okay";
};

&lpi2c6 {
	#address-cells = <1>;
	#size-cells = <0>;
	clock-frequency = <400000>;
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_lpi2c6>;
	pinctrl-1 = <&pinctrl_lpi2c6>;
	status = "okay";

	lt9211:lt9211@2d {
		compatible = "lontium,lt9211";
		reg = <0x2d>;
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_lvds>;
		power-supply = <&lvds_pwr_vcc>;
		backlight = <&pwm_backlight>;
		bkl_en_gpio = <&gpiod 21 GPIO_ACTIVE_HIGH>;
		reset_gpio = <&gpiof 7 GPIO_ACTIVE_HIGH>;
		bus-format = <MEDIA_BUS_FMT_RGB888_1X7X4_SPWG>; // MEDIA_BUS_FMT_RGB888_1X7X4_JEIDA MEDIA_BUS_FMT_RGB888_1X7X4_SPWG
		delay_ms = <5000>;
		status = "okay";
	};

	eeprom0: 24c32@50 {
		compatible = "st,24c32";
		reg = <0x50>;
	};
};

&lpi2c7 {
	#address-cells = <1>;
	#size-cells = <0>;
	clock-frequency = <400000>;
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_lpi2c7>;
	pinctrl-1 = <&pinctrl_lpi2c7>;
	status = "okay";

	acodec: sgtl5000@a {
		#sound-dai-cells = <0>;
		compatible = "fsl,sgtl5000";
		reg = <0xa>;
		VDDA-supply = <&reg_1p8v>;
		VDDIO-supply = <&reg_1p8v>;
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_sai7_mclk>;
		clocks = <&cgc1 IMX8ULP_CLK_SPLL3_PFD1_DIV1>;
		clock-names = "mclk";
	};

	eeprom1: 24c32@50 {
		compatible = "st,24c32";
		reg = <0x50>;
	};
};

&mu {
	status = "okay";
};

&mu3 {
	status = "okay";
};

&sai7 {
	#sound-dai-cells = <0>;
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_sai7>;
	pinctrl-1 = <&pinctrl_sai7>;
	assigned-clocks = <&cgc2 IMX8ULP_CLK_SAI7_SEL>;
	assigned-clock-parents = <&cgc1 IMX8ULP_CLK_SPLL3_PFD1_DIV1>;
	status = "okay";
};

&tpm_rpchip_0 {
	status = "okay";
};

&usbotg1 {
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_otgid1>;
	pinctrl-1 = <&pinctrl_otgid1>;
	dr_mode = "otg";
	hnp-disable;
	srp-disable;
	adp-disable;
	over-current-active-low;
	status = "okay";
};

&usbphy1 {
	status = "okay";
};

&usbmisc1 {
	status = "okay";
};

&usbotg2 {
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_otgid2>;
	pinctrl-1 = <&pinctrl_otgid2>;
	dr_mode = "otg";
	hnp-disable;
	srp-disable;
	adp-disable;
	over-current-active-low;
	status = "okay";
};

&usbphy2 {
	status = "okay";
};

&usbmisc2 {
	status = "okay";
};

&usdhc0 {
	pinctrl-names = "default", "state_100mhz", "state_200mhz", "sleep";
	pinctrl-0 = <&pinctrl_usdhc0>;
	pinctrl-1 = <&pinctrl_usdhc0>;
	pinctrl-2 = <&pinctrl_usdhc0>;
	pinctrl-3 = <&pinctrl_usdhc0>;
	non-removable;
	bus-width = <8>;
	status = "okay";
};

&usdhc2 {
	pinctrl-names = "default", "state_100mhz", "state_200mhz";
	pinctrl-0 = <&pinctrl_usdhc2_pte>;
	pinctrl-1 = <&pinctrl_usdhc2_pte>;
	pinctrl-2 = <&pinctrl_usdhc2_pte>;
	wp-gpios = <&gpiof 27 GPIO_ACTIVE_HIGH>;
	cd-gpios = <&gpiof 28 GPIO_ACTIVE_LOW>;
	mmc-pwrseq = <&usdhc2_pwrseq>;
	max-frequency = <100000000>;
	bus-width = <4>;
	keep-power-in-suspend;
	fsl,sdio-async-interrupt-enabled;
	no-1-8-v;
	status = "okay";
};

/*
&usdhc2 {
	pinctrl-names = "default", "state_100mhz", "state_200mhz";
	pinctrl-0 = <&pinctrl_usdhc2_pte>, <&pinctrl_usdhc2_gpio>;
	pinctrl-1 = <&pinctrl_usdhc2_pte>, <&pinctrl_usdhc2_gpio>;
	pinctrl-2 = <&pinctrl_usdhc2_pte>, <&pinctrl_usdhc2_gpio>;
	bus-width = <4>;
	mmc-pwrseq = <&usdhc2_pwrseq>;
	vmmc-supply = <&reg_sd1_vmmc>;
	keep-power-in-suspend;
	fsl,sdio-async-interrupt-enabled;
	no-1-8-v;
	status = "okay";
};
*/

&dcnano {
	status = "okay";
};

&dphy {
	status = "okay";
};

&dsi {
	status = "okay";

	panel@0 {
		compatible = "rocktech,hx8394f";
		reg = <0>;
		adv-panel = "lontium,lt9211_800x480";
		himax,dsi-lanes = <4>;

		port {
			panel_in: endpoint {
				remote-endpoint = <&mipi_dsi_out>;
			};
		};
	};

	ports {
		port@1 {
			reg = <1>;

			mipi_dsi_out: endpoint {
				remote-endpoint = <&panel_in>;
			};
		};
	};
};

&tpm4 {
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_tpm4>;
	pinctrl-1 = <&pinctrl_tpm4>;
	status = "okay";
};

&tpm7 {
	pinctrl-names = "default", "sleep";
	pinctrl-0 = <&pinctrl_tpm7>;
	pinctrl-1 = <&pinctrl_tpm7>;
	status = "okay";
};

&tpm8 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_pwm>;
	#pwm-cells = <3>;
	status = "okay";
};

&iomuxc0 {
	pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_hog_0>;

        pinctrl_hog_0: hog0grp {
                fsl,pins = <
                        MX8ULP_PAD_PTA5__PTA5_GPIOA     0x3
                        MX8ULP_PAD_PTB0__PTB0_GPIOB     0x3
                        MX8ULP_PAD_PTB1__PTB1_GPIOB     0x3
                        MX8ULP_PAD_PTB6__PTB6_GPIOB     0x3
                        MX8ULP_PAD_PTC0__PTC0_GPIOC     0x3
                        MX8ULP_PAD_PTC1__PTC1_GPIOC     0x3
                        MX8ULP_PAD_PTC2__PTC2_GPIOC     0x3
                        MX8ULP_PAD_PTC3__PTC3_GPIOC     0x3
                        MX8ULP_PAD_PTC4__PTC4_GPIOC     0x3
                        MX8ULP_PAD_PTC12__PTC12_GPIOC   0x3
                        MX8ULP_PAD_PTC18__PTC18_GPIOC   0x3
                        MX8ULP_PAD_PTC19__PTC19_GPIOC   0x3
                        MX8ULP_PAD_PTC20__PTC20_GPIOC   0x3
                        /* MX8ULP_PAD_PTC21__PTC21_GPIOC   0x3 */
                        /* MX8ULP_PAD_PTC22__PTC22_GPIOC   0x3 */
                        /* MX8ULP_PAD_PTC23__PTC23_GPIOC   0x3 */

                >;
        };

	pinctrl_usdhc2_gpio: usdhc2grpgpio {
		fsl,pins = <
			MX8ULP_PAD_PTC21__PTC21_GPIOC   0x3  /* M2_SDIO_RST */
			MX8ULP_PAD_PTC23__PTC23_GPIOC   0x3  /* W_DISABLE1 */
		>;
	};

	pinctrl_lpuart4_gpio: lpuart4grpgpio {
                fsl,pins = <
                        MX8ULP_PAD_PTC22__PTC22_GPIOC   0x2  /* W_DISABLE2 */
                >;
        };
};

&iomuxc1 {
	pinctrl-names = "default";
        pinctrl-0 = <&pinctrl_hog_1>;

        pinctrl_hog_1: hog1grp {
                fsl,pins = <
                        MX8ULP_PAD_PTD12__PTD12         0x3
                        MX8ULP_PAD_PTD13__PTD13         0x3
                        /* MX8ULP_PAD_PTD19__PTD19         0x3 */
                        MX8ULP_PAD_PTF1__PTF1           0x3
                >;
        };

	pinctrl_enet: enetgrp {
		fsl,pins = <
			MX8ULP_PAD_PTE15__ENET0_MDC     0x43
			MX8ULP_PAD_PTE14__ENET0_MDIO    0x43
			MX8ULP_PAD_PTE17__ENET0_RXER    0x43
			MX8ULP_PAD_PTE18__ENET0_CRS_DV  0x43
			/*
			MX8ULP_PAD_PTF1__ENET0_RXD0     0x43
			*/
			MX8ULP_PAD_PTE21__ENET0_RXD0	0x43
			MX8ULP_PAD_PTE20__ENET0_RXD1    0x43
			MX8ULP_PAD_PTE16__ENET0_TXEN    0x43
			MX8ULP_PAD_PTE23__ENET0_TXD0    0x43
			MX8ULP_PAD_PTE22__ENET0_TXD1    0x43
			MX8ULP_PAD_PTE19__ENET0_REFCLK  0x43
			/*
			MX8ULP_PAD_PTF10__ENET0_1588_CLKIN 0x43
			*/
		>;
	};

	pinctrl_lpuart4: lpuart4grp {
		fsl,pins = <
			MX8ULP_PAD_PTF8__LPUART4_CTS_B	0x3
			MX8ULP_PAD_PTF9__LPUART4_RTS_B	0x3
			MX8ULP_PAD_PTF10__LPUART4_TX	0x3
			MX8ULP_PAD_PTF11__LPUART4_RX	0x3
		>;
	};

	pinctrl_lpuart5: lpuart5grp {
		fsl,pins = <
			MX8ULP_PAD_PTE6__LPUART5_TX	0x3
			MX8ULP_PAD_PTE7__LPUART5_RX	0x3
		>;
	};

	pinctrl_lpuart6: lpuart6grp {
		fsl,pins = <
			MX8ULP_PAD_PTE10__LPUART6_TX	0x3
			MX8ULP_PAD_PTE11__LPUART6_RX	0x3
			/*
			MX8ULP_PAD_PTE9__LPUART6_RTS_B	0x3
			MX8ULP_PAD_PTE8__LPUART6_CTS_B	0x3
			*/
		>;
	};

	pinctrl_lpuart7: lpuart7grp {
		fsl,pins = <
			MX8ULP_PAD_PTF22__LPUART7_TX	0x3
			MX8ULP_PAD_PTF23__LPUART7_RX	0x3
		>;
	};

	pinctrl_lpi2c6: lpi2c6grp {
		fsl,pins = <
			MX8ULP_PAD_PTE8__LPI2C6_SCL    0x20
			MX8ULP_PAD_PTE9__LPI2C6_SDA    0x20
		>;
	};

	pinctrl_lpi2c7: lpi2c7grp {
		fsl,pins = <
			MX8ULP_PAD_PTE12__LPI2C7_SCL	0x20
			MX8ULP_PAD_PTE13__LPI2C7_SDA	0x20
		>;
	};

	pinctrl_otgid1: usb1grp {
		fsl,pins = <
			MX8ULP_PAD_PTF2__USB0_ID	0x10003
			MX8ULP_PAD_PTF4__USB0_OC	0x10003
		>;
	};

	pinctrl_otgid2: usb2grp {
		fsl,pins = <
			MX8ULP_PAD_PTF0__USB1_ID	0x10003
			/*
			MX8ULP_PAD_PTD23__USB1_ID	0x10003
			*/
			MX8ULP_PAD_PTF6__USB1_OC	0x10003
		>;
	};

	pinctrl_sai7: sai7grp {
		fsl,pins = <
			MX8ULP_PAD_PTD15__I2S7_TX_BCLK	0x43
			MX8ULP_PAD_PTD16__I2S7_TX_FS	0x43
			MX8ULP_PAD_PTD17__I2S7_TXD0	0x43
			MX8ULP_PAD_PTD14__I2S7_RXD0	0x43
		>;
	};

	pinctrl_sai7_mclk: sai7grp_mclk {
		fsl,pins = <
			MX8ULP_PAD_PTD18__I2S7_MCLK	0x43
		>;
	};

	pinctrl_usdhc0: usdhc0grp {
		fsl,pins = <
			MX8ULP_PAD_PTD1__SDHC0_CMD	0x3
			MX8ULP_PAD_PTD2__SDHC0_CLK	0x10002
			MX8ULP_PAD_PTD10__SDHC0_D0	0x3
			MX8ULP_PAD_PTD9__SDHC0_D1	0x3
			MX8ULP_PAD_PTD8__SDHC0_D2	0x3
			MX8ULP_PAD_PTD7__SDHC0_D3	0x3
			MX8ULP_PAD_PTD6__SDHC0_D4	0x3
			MX8ULP_PAD_PTD5__SDHC0_D5	0x3
			MX8ULP_PAD_PTD4__SDHC0_D6	0x3
			MX8ULP_PAD_PTD3__SDHC0_D7	0x3
			MX8ULP_PAD_PTD11__SDHC0_DQS	0x10002
		>;
	};

	pinctrl_usdhc2_pte: usdhc2ptegrp {
		fsl,pins = <
			MX8ULP_PAD_PTE1__SDHC2_D0	0x3
			MX8ULP_PAD_PTE0__SDHC2_D1	0x3
			MX8ULP_PAD_PTE5__SDHC2_D2	0x3
			MX8ULP_PAD_PTE4__SDHC2_D3	0x3
			MX8ULP_PAD_PTE2__SDHC2_CLK	0x10002
			MX8ULP_PAD_PTE3__SDHC2_CMD	0x3
			/*
			MX8ULP_PAD_PTE7__PTE7		0x10003
			*/
			MX8ULP_PAD_PTF26__SDHC2_RESET_B	0x3
			MX8ULP_PAD_PTF27__SDHC2_WP	0x2
			MX8ULP_PAD_PTF28__SDHC2_CD	0x3
		>;
	};

	pinctrl_lvds: lvdsgrp {
		fsl,pins = <
			MX8ULP_PAD_PTD20__PTD20         0x2 /* DISP_VDD_EN */
			MX8ULP_PAD_PTD21__PTD21         0x2 /* DISP_BL_EN */
			MX8ULP_PAD_PTF7__PTF7           0x2 /* LVDS_RST */
		>;
	};

	pinctrl_pwm: pwmgrp {
		fsl,pins = <
			MX8ULP_PAD_PTD19__TPM8_CH1      0x42 /* DISP_BL_PWM */
		>;
	};

	pinctrl_tpm4: tpm4grp {
		fsl,pins = <
			MX8ULP_PAD_PTF16__TPM4_CH4      0x42 /* PWM1 */
		>;
	};

	pinctrl_tpm7: tpm7grp {
                fsl,pins = <
                        MX8ULP_PAD_PTF25__TPM7_CH5      0x42 /* PWM2 */
                        MX8ULP_PAD_PTF29__TPM7_CH2      0x42 /* PWM3 */
                        MX8ULP_PAD_PTF30__TPM7_CH3      0x42 /* PWM4 */
                        MX8ULP_PAD_PTF31__TPM7_CH4      0x42 /* PWM5 */
                >;
        };

	pinctrl_cam: camgrp {
		fsl,pins = <
			MX8ULP_PAD_PTD22__PTD22		0x3 /* CAM_PWR */
			MX8ULP_PAD_PTD23__PTD23		0x3 /* CAM_RST */
		>;
	};
};

&cameradev {
	status = "okay";
};

&isi_0 {
	status = "okay";

	cap_device {
		status = "okay";
	};
};

&mipi_csi0 {
	#address-cells = <1>;
	#size-cells = <0>;

	status = "okay";
	port@0 {
		reg = <0>;
		mipi_csi0_ep: endpoint {
			remote-endpoint = <&ov5640_mipi_ep>;
			data-lanes = <1 2>;
			bus-type = <4>;
		};
	};
};

&epxp {
	status = "okay";
};
